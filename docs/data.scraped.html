---

title: snkrfinder.data.scraped

keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/01b_data.scraped.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/01b_data.scraped.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Create-a-simple-database-of-&quot;sneakers&quot;">Create a simple database of "sneakers"<a class="anchor-link" href="#Create-a-simple-database-of-&quot;sneakers&quot;"> </a></h2><ul>
<li>images (need to access) path to fit beta-VAE </li>
<li>descriptions for fitting text autoencoder</li>
<li>skip "meta" data (will come back to this later for further analysis.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="n">ZAPPOS_DF_SIMPLIFIED</span> <span class="c1">#&quot;zappos-50k-simplified_sort&quot;</span>
<span class="n">df_zappos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;data/</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_zappos</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CID</th>
      <th>Category</th>
      <th>path</th>
      <th>path_and_file</th>
      <th>Category1</th>
      <th>Category2</th>
      <th>Filename</th>
      <th>Sneakers</th>
      <th>Boots</th>
      <th>Shoes</th>
      <th>Slippers</th>
      <th>Adult</th>
      <th>Gender</th>
      <th>train</th>
      <th>test</th>
      <th>validate</th>
      <th>t_t_v</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>7965307-5291</td>
      <td>Boots</td>
      <td>Boots/Ankle/A. Testoni/7965307.5291.jpg</td>
      <td>[Boots, Ankle, A. Testoni, 7965307.5291.jpg]</td>
      <td>Boots</td>
      <td>Ankle</td>
      <td>7965307.5291.jpg</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>Men</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>train</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7999255-363731</td>
      <td>Boots</td>
      <td>Boots/Ankle/A. Testoni/7999255.363731.jpg</td>
      <td>[Boots, Ankle, A. Testoni, 7999255.363731.jpg]</td>
      <td>Boots</td>
      <td>Ankle</td>
      <td>7999255.363731.jpg</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>Men</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>train</td>
    </tr>
    <tr>
      <th>2</th>
      <td>8000978-364150</td>
      <td>Boots</td>
      <td>Boots/Ankle/A. Testoni/8000978.364150.jpg</td>
      <td>[Boots, Ankle, A. Testoni, 8000978.364150.jpg]</td>
      <td>Boots</td>
      <td>Ankle</td>
      <td>8000978.364150.jpg</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>Men</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>test</td>
    </tr>
    <tr>
      <th>3</th>
      <td>8113228-1897</td>
      <td>Boots</td>
      <td>Boots/Ankle/AIGLE/8113228.1897.jpg</td>
      <td>[Boots, Ankle, AIGLE, 8113228.1897.jpg]</td>
      <td>Boots</td>
      <td>Ankle</td>
      <td>8113228.1897.jpg</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>Women</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>train</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8113228-1912</td>
      <td>Boots</td>
      <td>Boots/Ankle/AIGLE/8113228.1912.jpg</td>
      <td>[Boots, Ankle, AIGLE, 8113228.1912.jpg]</td>
      <td>Boots</td>
      <td>Ankle</td>
      <td>8113228.1912.jpg</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>Women</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>train</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SCRAPED_META_DIR</span><span class="o">/</span><span class="n">SCRAPED_DF</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;/home/ergonyc/Projects/DATABASE/SnkrScrpr/data/full_data&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_scraped</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">SCRAPED_META_DIR</span><span class="o">/</span><span class="n">SCRAPED_DF</span><span class="si">}</span><span class="s2">.pkl&quot;</span><span class="p">)</span>

<span class="c1"># load into pandas</span>
<span class="n">attributes</span> <span class="o">=</span> <span class="n">df_scraped</span><span class="o">.</span><span class="n">attributes</span><span class="o">.</span><span class="n">values</span>
<span class="n">description</span> <span class="o">=</span> <span class="n">df_scraped</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">values</span>
<span class="n">df_scraped</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>url</th>
      <th>hero</th>
      <th>images</th>
      <th>description</th>
      <th>price_list</th>
      <th>attributes</th>
      <th>attributes_links</th>
      <th>see_also_links</th>
      <th>hero_fullpath</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>https://www.goat.com/sneakers/air-jordan-11-retro-bred-2012-378037-010</td>
      <td>99543f4630.jpg</td>
      <td>[https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/008/487/202/original/13562_01.jpg.jpeg?1513115063, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/008/487/200/original/13562_02.jpg.jpeg?1513115063, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/008/487/201/original/13562_03.jpg.jpeg?1513115063, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/008/487/192/original/13562_04.jpg.jpeg?1513115063, https://image.goat.com/crop/750/attachm...</td>
      <td>Released in December, the Air Jordan 11 Retro ‘Bred’ 2012 brings back the famous black/red colorway to the Jordan 11 silhouette. The design features a black mesh upper with black patent leather overlays, red Jumpman accents, a white midsole, and a translucent red outsole. Originally released in 1995, the sneaker was retro’d in 2001 and in 2008 alongside an Air Jordan 12 as part of the ‘Collezione Pack’.</td>
      <td>[6M\n$395, 6.5M\n$495, 7M\n$560\n$605, 7.5M\n$1,200, 8M\n$425\n$430, 8M\n$340\nNO BOX, 8.5M\n$485\n$535, 9M\n$415\nLOWEST PRICE, 9.5M\n$425\n$495, 10M\n$320\n$480, 10.5M\n$410\n$550, 11M\n$390\n$455, 11M\n$355\nNO BOX, 11.5M\n$405\n$485, 11.5M\n$400\nNO BOX, 12M\n$405\n$430, 12.5M\n$500\n$795, 13M\n$400\nNO LID, 13M\n$425\n$550, 13.5M\n$2,000, 14M\n$375\nNO BOX, 14M\n$465\n$660, 15M\n$740]</td>
      <td>[RELEASE DATE\n2012-12-21, SKU\n378037 010, BRAND\nAir Jordan, MAIN COLOR\nBlack, COLORWAY\nBlack/Varsity Red-White, DESIGNER\nTinker Hatfield, SILHOUETTE\nAir Jordan 11, TECHNOLOGY\nAir, NICKNAME\nBred, CATEGORY\nLifestyle]</td>
      <td>[https://www.goat.com/sneakers/brand/air%20jordan, https://www.goat.com/sneakers/color/Black, https://www.goat.com/sneakers/designer/Tinker%20Hatfield, https://www.goat.com/sneakers/silhouette/air%20jordan%2011, https://www.goat.com/sneakers/technology/Air, https://www.goat.com/sneakers/category/Lifestyle]</td>
      <td>[]</td>
      <td>/Users/ergonyc/Projects/DATABASE/SnkrScrpr/data/goat/img/99543f4630.jpg</td>
    </tr>
    <tr>
      <th>1</th>
      <td>https://www.goat.com/sneakers/yeezy-boost-700-carbon-blue-yzy-700-what-the</td>
      <td>3fbd48e729.jpg</td>
      <td>[https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/029/881/027/original/567939_01.jpg.jpeg?1576267306, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/029/881/032/original/567939_02.jpg.jpeg?1576267306, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/029/881/026/original/567939_03.jpg.jpeg?1576267305, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/029/881/028/original/567939_04.jpg.jpeg?1576267305, https://image.goat.com/crop/750/att...</td>
      <td>The adidas Yeezy Boost 700 'Carbon Blue' is a study of tonality inspired by previous 700 models. Debuted in December 2019, the sneaker is presented with a muted blue scheme across the upper's suede and nubuck panels with the tongue and laces in a bright tint. Grey tones for the mesh collar, perforated heel panel and leather eyestays anchor the palette. A sculpted midsole housing full-length Boost, with defined pops of color and dual-tone rubber outsole finish it off.</td>
      <td>[4M\n$395\nLOWEST PRICE, 4.5M\n$395\nLOWEST PRICE, 5M\n$440\n$465, 5.5M\n$440, 6M\n$550\nLOWEST PRICE, 6.5M\n$520\nLOWEST PRICE, 7M\n$600\n$2,000, 7.5M\n$495\n$515, 8M\n$615\n$2,000, 9M\n$435\n$2,000, 9.5M\n$400\n$590, 10M\n$385\n$440, 10.5M\n$435\n$705, 11M\n$450\nLOWEST PRICE, 11.5M\n$655, 12M\n$470\n$650, 12.5M\n$540\n$555, 13M\n$410\n$475, 14M\n$1,100\nLOWEST PRICE, 16M\n$545\n$645, 17M\n$400]</td>
      <td>[RELEASE DATE\n2019-12-18, SKU\nFW2498, BRAND\nAdidas, MAIN COLOR\nBlue, DESIGNER\nKanye West, SILHOUETTE\nYeezy Boost 700, TECHNOLOGY\nBoost, NICKNAME\nCarbon Blue, CATEGORY\nLifestyle]</td>
      <td>[https://www.goat.com/sneakers/brand/adidas, https://www.goat.com/sneakers/color/Blue, https://www.goat.com/sneakers/designer/Kanye%20West, https://www.goat.com/sneakers/silhouette/yeezy%20boost%20700, https://www.goat.com/sneakers/technology/Boost, https://www.goat.com/sneakers/category/Lifestyle]</td>
      <td>[]</td>
      <td>/Users/ergonyc/Projects/DATABASE/SnkrScrpr/data/goat/img/3fbd48e729.jpg</td>
    </tr>
    <tr>
      <th>2</th>
      <td>https://www.goat.com/sneakers/sacai-x-ldv-waffle-pink-green-bv0073-301</td>
      <td>6721456f62.jpg</td>
      <td>[https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/023/312/964/original/512003_01.jpg.jpeg?1562613472, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/023/312/948/original/512003_02.jpg.jpeg?1562613460, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/023/312/955/original/512003_03.jpg.jpeg?1562613460, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/023/312/950/original/512003_04.jpg.jpeg?1562613456, https://image.goat.com/crop/750/att...</td>
      <td>The Sacai x LDWaffle fuses the Japanese label's experimentalism with Nike's heritage ingenuity. Unveiled in September 2019, this 'Pine Green' edition updates the hybrid model in a vibrant color story. Its mesh upper sees layered suede eyestays, double reinforcements and dual, two-tone Swooshes. The aesthetic is furthered by twin tongues, optional double laces and stacked heel logos. Its double stacked, sculpted midsole follows the same formula atop a rubber waffle tread.</td>
      <td>[3.5M\n$550\n$650, 4M\n$455\n$465, 4.5M\n$455\n$495, 5M\n$545\n$590, 5.5M\n$560\n$595, 6M\n$500\n$640, 6.5M\n$615\n$625, 7M\n$665\n$1,000, 7.5M\n$495\n$555, 8M\n$525\n$600, 8.5M\n$480\n$520, 9M\n$475\n$490, 9.5M\n$450\n$465, 10M\n$435\n$525, 10.5M\n$415\n$620, 11M\n$445\n$460, 11.5M\n$450\n$960, 12M\n$425\n$575, 13M\n$525\n$1,285, 14M\n$400\n$550, 15M\n$390\n$460]</td>
      <td>[RELEASE DATE\n2019-09-12, SKU\nBV0073 301, BRAND\nNike, MAIN COLOR\nPink, COLORWAY\nPine Green/Clay Orange-Del Sol-Sail, SILHOUETTE\nLDWaffle, CATEGORY\nLifestyle]</td>
      <td>[https://www.goat.com/sneakers/brand/nike, https://www.goat.com/sneakers/color/Pink, https://www.goat.com/sneakers/silhouette/ldwaffle, https://www.goat.com/sneakers/category/Lifestyle]</td>
      <td>[]</td>
      <td>/Users/ergonyc/Projects/DATABASE/SnkrScrpr/data/goat/img/6721456f62.jpg</td>
    </tr>
    <tr>
      <th>3</th>
      <td>https://www.goat.com/sneakers/colin-kaepernick-x-air-force-1-low-07-qs-cq0493-001</td>
      <td>27fbbaad00.jpg</td>
      <td>[https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/030/366/998/original/575790_01.jpg.jpeg?1577131234, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/030/366/994/original/575790_02.jpg.jpeg?1577131234, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/030/366/992/original/575790_03.jpg.jpeg?1577131234, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/030/366/990/original/575790_04.jpg.jpeg?1577131233, https://image.goat.com/crop/750/att...</td>
      <td>Made in collaboration with the athlete turned social activist, the Colin Kaepernick x Air Force 1 Low '07 QS 'True to 7' features a gradient reflective Swoosh on a black leather upper. Personal touches include Kaepernick’s logo on the tongue, his likeness embroidered on the heel tab, and a number 7 hang tag. The low-top rides on a contrasting white foam midsole, reinforced by a translucent rubber outsole underfoot.</td>
      <td>[4M\n$125\n$135, 4.5M\n$185, 5M\n$150\n$200, 5.5M\n$250\nLOWEST PRICE, 6M\n$130\n$135, 6.5M\n$140\n$170, 7M\n$130\nLOWEST PRICE, 7.5M\n$135\n$150, 8M\n$140\n$145, 8.5M\n$135\nLOWEST PRICE, 9M\n$140\n$145, 9.5M\n$150\nLOWEST PRICE, 9.5M\n$140\nNO LID, 10M\n$145\n$155, 10.5M\n$160\n$175, 11M\n$160\n$175, 11.5M\n$190\n$195, 12M\n$195\nLOWEST PRICE, 13M\n$275\nLOWEST PRICE, 14M\n$220\n$250, 15M\n$165\nLOWEST PRICE, 16M\n$300]</td>
      <td>[RELEASE DATE\n2019-12-23, SKU\nCQ0493 001, BRAND\nNike, UPPER MATERIAL\nLeather, MAIN COLOR\nBlack, COLORWAY\nBlack/Black/White, DESIGNER\nBruce Kilgore, SILHOUETTE\nAir Force 1, TECHNOLOGY\nAir, NICKNAME\nTrue To 7, CATEGORY\nLifestyle]</td>
      <td>[https://www.goat.com/sneakers/brand/nike, https://www.goat.com/sneakers/upper_material/Leather, https://www.goat.com/sneakers/color/Black, https://www.goat.com/sneakers/designer/Bruce%20Kilgore, https://www.goat.com/sneakers/silhouette/air%20force%201, https://www.goat.com/sneakers/technology/Air, https://www.goat.com/sneakers/category/Lifestyle]</td>
      <td>[]</td>
      <td>/Users/ergonyc/Projects/DATABASE/SnkrScrpr/data/goat/img/27fbbaad00.jpg</td>
    </tr>
    <tr>
      <th>4</th>
      <td>https://www.goat.com/sneakers/travis-scott-x-air-jordan-6-retro-medium-olive-cn1084-200</td>
      <td>df16a19226.jpg</td>
      <td>[https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/026/947/117/original/527961_01.jpg.jpeg?1570647686, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/026/947/116/original/527961_02.jpg.jpeg?1570647685, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/026/947/113/original/527961_03.jpg.jpeg?1570647682, https://image.goat.com/crop/750/attachments/product_template_additional_pictures/images/026/947/114/original/527961_04.jpg.jpeg?1570647681, https://image.goat.com/crop/750/att...</td>
      <td>The Travis Scott x Air Jordan 6 Retro 'Olive' represents a collaboration between the Houston based rapper and Jordan Brand. This take on the AJ 6, which Scott debuted while performing during halftime of Super Bowl 53, released in October 2019. It features a Medium Olive, black, Sail and University Red colorway along with several unique elements: a small pocket with a snap on the collar, a nubuck and suede upper, Scott's 'Cactus Jack' logo on the heel and a glow-in-the-dark translucent outsole.</td>
      <td>[6.5M\n$685, 7M\n$750\n$815, 7.5M\n$815\n$1,075, 8M\n$620\n$685, 8.5M\n$640\n$820, 9M\n$640\nLOWEST PRICE, 9.5M\n$600\n$700, 10M\n$575\n$635, 10.5M\n$550\n$615, 11M\n$535\n$580, 11.5M\n$560\n$625, 12M\n$550\n$640, 12.5M\n$635\n$860, 13M\n$510\n$600, 14M\n$515\n$570, 15M\n$795\nLOWEST PRICE, 16M\n$575\nLOWEST PRICE]</td>
      <td>[RELEASE DATE\n2019-10-11, SKU\nCN1084 200, BRAND\nAir Jordan, UPPER MATERIAL\nNubuck, MAIN COLOR\nGreen, COLORWAY\nMedium Olive/Black-Sail-University Red, DESIGNER\nTinker Hatfield, SILHOUETTE\nAir Jordan 6, TECHNOLOGY\nAir, NICKNAME\nOlive, CATEGORY\nLifestyle]</td>
      <td>[https://www.goat.com/sneakers/brand/air%20jordan, https://www.goat.com/sneakers/upper_material/Nubuck, https://www.goat.com/sneakers/color/Green, https://www.goat.com/sneakers/designer/Tinker%20Hatfield, https://www.goat.com/sneakers/silhouette/air%20jordan%206, https://www.goat.com/sneakers/technology/Air, https://www.goat.com/sneakers/category/Lifestyle]</td>
      <td>[]</td>
      <td>/Users/ergonyc/Projects/DATABASE/SnkrScrpr/data/goat/img/df16a19226.jpg</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I need to put the scraped databases from SNS (sneakersnstuff.com) and GOAT (goat.com) into a dataframe with columns suitable merge with the UTZappos database I originally started with.<br>
I'll spend some time infering the <code>Category</code>, <code>Brand</code>, <code>Gender</code> (and <code>model</code>?) so I can pay attention to class balance .  From the transfer learning work, the <code>Slippers</code> category is pretty poor, but I should be able to use that net to label the scraped data... and validate based on the <code>attributes</code> and <code>see_also</code> fields.</p>
<p>First things first:  fix the "hero_fullpath" so its agnostic of OS (Mac or Linux).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_scraped</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;path&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">df_scraped</span><span class="o">.</span><span class="n">hero_fullpath</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;scraped/&#39;</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;/&#39;</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">df_scraped</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0       scraped/goat/99543f4630.jpg
1       scraped/goat/3fbd48e729.jpg
2       scraped/goat/6721456f62.jpg
3       scraped/goat/27fbbaad00.jpg
4       scraped/goat/df16a19226.jpg
                   ...             
1333     scraped/sns/eb4f3eada8.jpg
1334     scraped/sns/5dace85f70.jpg
1335     scraped/sns/2a18731113.jpg
1336     scraped/sns/9cb275f3aa.jpg
1337     scraped/sns/6d6c0b7b97.jpg
Name: path, Length: 2337, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extract_cat" class="doc_header"><code>extract_cat</code><a href="https://github.com/ergonyc/snkrfinder/tree/master/snkrfinder/data/scraped.py#L14" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extract_cat</code>(<strong><code>lst</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extract_brand_goat" class="doc_header"><code>extract_brand_goat</code><a href="https://github.com/ergonyc/snkrfinder/tree/master/snkrfinder/data/scraped.py#L20" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extract_brand_goat</code>(<strong><code>lst</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extract_brand_sns" class="doc_header"><code>extract_brand_sns</code><a href="https://github.com/ergonyc/snkrfinder/tree/master/snkrfinder/data/scraped.py#L26" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extract_brand_sns</code>(<strong><code>lst</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extract_db_nm" class="doc_header"><code>extract_db_nm</code><a href="https://github.com/ergonyc/snkrfinder/tree/master/snkrfinder/data/scraped.py#L29" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extract_db_nm</code>(<strong><code>pathn</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_scraped</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;brand&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">df_scraped</span><span class="o">.</span><span class="n">attributes</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_brand_sns</span><span class="p">)</span>
<span class="n">df_scraped</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;cat&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">df_scraped</span><span class="o">.</span><span class="n">attributes</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_cat</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_scraped</span><span class="p">[</span><span class="s2">&quot;attributes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>
<span class="n">df_scraped</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;goat&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_scraped</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;db_name&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">df_scraped</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_db_nm</span><span class="p">)</span>

<span class="n">df_scraped</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df_scraped</span><span class="p">[</span><span class="s1">&#39;db_name&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;goat&#39;</span><span class="p">,</span><span class="s2">&quot;brand&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">df_scraped</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df_scraped</span><span class="p">[</span><span class="s1">&#39;db_name&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;goat&#39;</span><span class="p">,</span><span class="s2">&quot;attributes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_brand_goat</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_scraped_og</span> <span class="o">=</span> <span class="n">df_scraped</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we just need to wrap the above proceedure into a little function for exporting...</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_scraped_db" class="doc_header"><code>get_scraped_db</code><a href="https://github.com/ergonyc/snkrfinder/tree/master/snkrfinder/data/scraped.py#L34" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_scraped_db</code>()</p>
</blockquote>
<p>collect meta data fromscraped databases</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="merge_dbs" class="doc_header"><code>merge_dbs</code><a href="https://github.com/ergonyc/snkrfinder/tree/master/snkrfinder/data/scraped.py#L65" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>merge_dbs</code>(<strong><code>df_zappos</code></strong>, <strong><code>df_scraped</code></strong>)</p>
</blockquote>
<p>could be any dfs with 'path','train','test','validate','t_t_v'</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">get_scraped_db</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># skl_tt_split defined in data.zappos</span>
<span class="n">df_scraped</span> <span class="o">=</span> <span class="n">skl_tt_split</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">df</span><span class="o">.</span><span class="n">db_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_test</span> <span class="o">=</span> <span class="n">merge_dbs</span><span class="p">(</span><span class="n">df_zappos</span><span class="p">,</span><span class="n">df_scraped</span><span class="p">)</span>

<span class="n">df_scraped</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span><span class="n">df_zappos</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span><span class="n">df_test</span><span class="o">.</span><span class="n">columns</span>

<span class="n">df_scraped</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span><span class="n">df_zappos</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span><span class="n">df_test</span><span class="o">.</span><span class="n">shape</span>
<span class="n">df_test</span><span class="p">[[</span><span class="s2">&quot;train&quot;</span><span class="p">,</span><span class="s2">&quot;test&quot;</span><span class="p">,</span><span class="s2">&quot;validate&quot;</span><span class="p">,</span><span class="s2">&quot;t_t_v&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>train</th>
      <th>test</th>
      <th>validate</th>
      <th>t_t_v</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>train</td>
    </tr>
    <tr>
      <th>1</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>train</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>test</td>
    </tr>
    <tr>
      <th>3</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>train</td>
    </tr>
    <tr>
      <th>4</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>train</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_test</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">COMBINED_DF</span><span class="si">}</span><span class="s2">.pkl&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

